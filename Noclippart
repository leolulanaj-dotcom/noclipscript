-- STEVEN'S HACKS - FLOAT & SPEED BOOST ONLY
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local Player = Players.LocalPlayer
local isStealthNoclipEnabled = false
local isSpeedBoostEnabled = false

-- STEALTH NOCLIP
local function StealthNoclip()
    if not isStealthNoclipEnabled or not Player.Character then return end
    
    local humanoid = Player.Character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end
    
    humanoid:ChangeState(Enum.HumanoidStateType.Running)
    
    local rootPart = Player.Character:FindFirstChild("HumanoidRootPart")
    if rootPart then
        rootPart.Velocity = Vector3.new(rootPart.Velocity.X, 15, rootPart.Velocity.Z)
    end
end

local function ToggleStealthNoclip()
    isStealthNoclipEnabled = not isStealthNoclipEnabled
    
    if isStealthNoclipEnabled then
        NoclipFloorButton.Text = "Float Mode: ON"
        NoclipFloorButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
    else
        NoclipFloorButton.Text = "Float Mode: OFF"
        NoclipFloorButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    end
end

-- AUTO SPEED BOOST TOGGLE
local function ToggleSpeedBoost()
    isSpeedBoostEnabled = not isSpeedBoostEnabled
    
    if isSpeedBoostEnabled then
        SpeedBoostButton.Text = "Speed Boost: ON"
        SpeedBoostButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
        print("Speed boost enabled - will activate when stealing")
    else
        SpeedBoostButton.Text = "Speed Boost: OFF"
        SpeedBoostButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        print("Speed boost disabled")
    end
end

-- AUTO SPEED BOOST WHEN STEALING
local function AutoSpeedBoost()
    if not isSpeedBoostEnabled or not Player.Character then return end
    
    local humanoid = Player.Character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return end
    
    -- Detect stealing (walkspeed <= 18) and boost to 64
    if humanoid.WalkSpeed <= 18 then
        humanoid.WalkSpeed = 64
        print("Speed boost activated! Stealing detected.")
        
        -- Visual feedback
        local boostEffect = Instance.new("ParticleEmitter")
        boostEffect.Color = ColorSequence.new(Color3.fromRGB(0, 255, 255))
        boostEffect.Size = NumberSequence.new(0.5)
        boostEffect.Lifetime = NumberRange.new(1)
        boostEffect.Rate = 20
        boostEffect.Speed = NumberRange.new(5)
        local targetPart = humanoid.Parent:FindFirstChild("Head") or humanoid.Parent:FindFirstChild("HumanoidRootPart")
        if targetPart then
            boostEffect.Parent = targetPart
            delay(2, function() 
                if boostEffect then 
                    boostEffect:Destroy() 
                end
            end)
        end
    end
end

-- FANCY STEVEN'S HACKS GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "StevensHacks"
ScreenGui.Parent = Player.PlayerGui
ScreenGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 200) -- Smaller height since freeze is removed
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
MainFrame.BackgroundTransparency = 0.1
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

local mainGradient = Instance.new("UIGradient")
mainGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(50, 50, 70)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 20, 30))
})
mainGradient.Rotation = 90
mainGradient.Parent = MainFrame

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, 0, 0, 50)
TitleLabel.Position = UDim2.new(0, 0, 0, 0)
TitleLabel.BackgroundColor3 = Color3.fromRGB(0, 100, 150)
TitleLabel.BackgroundTransparency = 0.2
TitleLabel.Text = "STEVEN'S HACKS"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextSize = 20
TitleLabel.TextYAlignment = Enum.TextYAlignment.Center
TitleLabel.Parent = MainFrame

local titleGradient = Instance.new("UIGradient")
titleGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 150, 200)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 80, 120))
})
titleGradient.Rotation = 90
titleGradient.Parent = TitleLabel

local ScrollingFrame = Instance.new("ScrollingFrame")
ScrollingFrame.Size = UDim2.new(1, -20, 1, -60)
ScrollingFrame.Position = UDim2.new(0, 10, 0, 60)
ScrollingFrame.BackgroundTransparency = 1
ScrollingFrame.BorderSizePixel = 0
ScrollingFrame.ScrollBarThickness = 6
ScrollingFrame.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 120)
ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 120)
ScrollingFrame.Parent = MainFrame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Padding = UDim.new(0, 10)
UIListLayout.Parent = ScrollingFrame

-- FLOAT MODE BUTTON
local NoclipFloorButton = Instance.new("TextButton")
NoclipFloorButton.Size = UDim2.new(1, 0, 0, 40)
NoclipFloorButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
NoclipFloorButton.BackgroundTransparency = 0.5
NoclipFloorButton.Text = "Float Mode: OFF"
NoclipFloorButton.TextColor3 = Color3.fromRGB(255, 255, 255)
NoclipFloorButton.Font = Enum.Font.GothamBold
NoclipFloorButton.TextSize = 14
NoclipFloorButton.Parent = ScrollingFrame

-- SPEED BOOST BUTTON (NEW)
local SpeedBoostButton = Instance.new("TextButton")
SpeedBoostButton.Size = UDim2.new(1, 0, 0, 40)
SpeedBoostButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
SpeedBoostButton.BackgroundTransparency = 0.5
SpeedBoostButton.Text = "Speed Boost: OFF"
SpeedBoostButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedBoostButton.Font = Enum.Font.GothamBold
SpeedBoostButton.TextSize = 14
SpeedBoostButton.Parent = ScrollingFrame

UIListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y)
end)

-- CONNECT BUTTONS
NoclipFloorButton.MouseButton1Click:Connect(ToggleStealthNoclip)
SpeedBoostButton.MouseButton1Click:Connect(ToggleSpeedBoost)

-- UPDATED HEARTBEAT WITH AUTO SPEED BOOST
RunService.Heartbeat:Connect(function()
    if isStealthNoclipEnabled then
        StealthNoclip()
    end
    
    -- AUTO SPEED BOOST (ONLY IF ENABLED)
    if isSpeedBoostEnabled then
        AutoSpeedBoost()
    end
end)

-- GUI DRAGGING
local dragging = false
local dragInput, dragStart, startPos

TitleLabel.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

TitleLabel.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- REMOTE EVENT EXPLORER ADDITION
local function CreateRemoteExplorer()
    local ExplorerGui = Instance.new("ScreenGui")
    ExplorerGui.Name = "RemoteExplorer"
    ExplorerGui.Parent = Player.PlayerGui
    ExplorerGui.ResetOnSpawn = false

    local ExplorerFrame = Instance.new("Frame")
    ExplorerFrame.Size = UDim2.new(0, 500, 0, 400)
    ExplorerFrame.Position = UDim2.new(0.5, -250, 0.5, -200)
    ExplorerFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    ExplorerFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
    ExplorerFrame.BackgroundTransparency = 0.1
    ExplorerFrame.BorderSizePixel = 0
    ExplorerFrame.Visible = false
    ExplorerFrame.Parent = ExplorerGui

    local ExplorerTitle = Instance.new("TextLabel")
    ExplorerTitle.Size = UDim2.new(1, 0, 0, 40)
    ExplorerTitle.Position = UDim2.new(0, 0, 0, 0)
    ExplorerTitle.BackgroundColor3 = Color3.fromRGB(0, 100, 150)
    ExplorerTitle.BackgroundTransparency = 0.2
    ExplorerTitle.Text = "REMOTE EVENT EXPLORER"
    ExplorerTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    ExplorerTitle.Font = Enum.Font.GothamBold
    ExplorerTitle.TextSize = 18
    ExplorerTitle.Parent = ExplorerFrame

    local RemotesScrolling = Instance.new("ScrollingFrame")
    RemotesScrolling.Size = UDim2.new(0.5, -10, 1, -50)
    RemotesScrolling.Position = UDim2.new(0, 5, 0, 45)
    RemotesScrolling.BackgroundTransparency = 1
    RemotesScrolling.BorderSizePixel = 0
    RemotesScrolling.ScrollBarThickness = 5
    RemotesScrolling.CanvasSize = UDim2.new(0, 0, 0, 0)
    RemotesScrolling.Parent = ExplorerFrame

    local DetailsFrame = Instance.new("Frame")
    DetailsFrame.Size = UDim2.new(0.5, -10, 1, -50)
    DetailsFrame.Position = UDim2.new(0.5, 5, 0, 45)
    DetailsFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    DetailsFrame.BackgroundTransparency = 0.2
    DetailsFrame.BorderSizePixel = 0
    DetailsFrame.Parent = ExplorerFrame

    local DetailsLabel = Instance.new("TextLabel")
    DetailsLabel.Size = UDim2.new(1, -10, 1, -10)
    DetailsLabel.Position = UDim2.new(0, 5, 0, 5)
    DetailsLabel.BackgroundTransparency = 1
    DetailsLabel.Text = "Select a RemoteEvent to view details"
    DetailsLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    DetailsLabel.Font = Enum.Font.Gotham
    DetailsLabel.TextSize = 12
    DetailsLabel.TextXAlignment = Enum.TextXAlignment.Left
    DetailsLabel.TextYAlignment = Enum.TextYAlignment.Top
    DetailsLabel.TextWrapped = true
    DetailsLabel.Parent = DetailsFrame

    local RemoteListLayout = Instance.new("UIListLayout")
    RemoteListLayout.Padding = UDim.new(0, 5)
    RemoteListLayout.Parent = RemotesScrolling

    -- Populate with RemoteEvents
    local function PopulateRemotes()
        for _, child in pairs(RemotesScrolling:GetChildren()) do
            if child:IsA("TextButton") then
                child:Destroy()
            end
        end

        local allRemotes = {}
        
        -- Check ReplicatedStorage first (most common)
        for _, remote in pairs(game:GetService("ReplicatedStorage"):GetDescendants()) do
            if remote:IsA("RemoteEvent") or remote:IsA("RemoteFunction") then
                table.insert(allRemotes, remote)
            end
        end
        
        -- Check other services
        local services = {workspace, game:GetService("ServerStorage"), game:GetService("ServerScriptService")}
        for _, service in pairs(services) do
            for _, remote in pairs(service:GetDescendants()) do
                if remote:IsA("RemoteEvent") or remote:IsA("RemoteFunction") then
                    table.insert(allRemotes, remote)
                end
            end
        end

        for _, remote in pairs(allRemotes) do
            local remoteButton = Instance.new("TextButton")
            remoteButton.Size = UDim2.new(1, 0, 0, 30)
            remoteButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
            remoteButton.BackgroundTransparency = 0.5
            remoteButton.Text = remote.Name .. " (" .. remote.ClassName .. ")"
            remoteButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            remoteButton.Font = Enum.Font.Gotham
            remoteButton.TextSize = 12
            remoteButton.TextXAlignment = Enum.TextXAlignment.Left
            remoteButton.Parent = RemotesScrolling

            remoteButton.MouseButton1Click:Connect(function()
                -- Show details
                local detailsText = "Name: " .. remote.Name .. "\n"
                detailsText = detailsText .. "Class: " .. remote.ClassName .. "\n"
                detailsText = detailsText .. "Parent: " .. remote.Parent:GetFullName() .. "\n"
                detailsText = detailsText .. "Path: " .. remote:GetFullName() .. "\n\n"
                
                -- Get siblings
                detailsText = detailsText .. "Siblings in " .. remote.Parent.Name .. ":\n"
                for _, sibling in pairs(remote.Parent:GetChildren()) do
                    if sibling ~= remote then
                        detailsText = detailsText .. "• " .. sibling.Name .. " (" .. sibling.ClassName .. ")\n"
                    end
                end
                
                DetailsLabel.Text = detailsText
            end)
        end

        RemoteListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            RemotesScrolling.CanvasSize = UDim2.new(0, 0, 0, RemoteListLayout.AbsoluteContentSize.Y)
        end)
    end

    -- Close button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 100, 0, 30)
    CloseButton.Position = UDim2.new(0.5, -50, 1, -35)
    CloseButton.AnchorPoint = Vector2.new(0.5, 0)
    CloseButton.BackgroundColor3 = Color3.fromRGB(150, 50, 50)
    CloseButton.Text = "CLOSE"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.TextSize = 12
    CloseButton.Parent = ExplorerFrame

    CloseButton.MouseButton1Click:Connect(function()
        ExplorerFrame.Visible = false
    end)

    return ExplorerFrame
end

-- Add Remote Explorer button to main GUI
local RemoteExplorerButton = Instance.new("TextButton")
RemoteExplorerButton.Size = UDim2.new(1, 0, 0, 40)
RemoteExplorerButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
RemoteExplorerButton.BackgroundTransparency = 0.5
RemoteExplorerButton.Text = "Remote Explorer"
RemoteExplorerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
RemoteExplorerButton.Font = Enum.Font.GothamBold
RemoteExplorerButton.TextSize = 14
RemoteExplorerButton.Parent = ScrollingFrame

-- Create remote explorer (but don't show it yet)
local remoteExplorer = CreateRemoteExplorer()

RemoteExplorerButton.MouseButton1Click:Connect(function()
    remoteExplorer.Visible = not remoteExplorer.Visible
    if remoteExplorer.Visible then
        -- Refresh the list when opened
        pcall(function()
            -- This will repopulate the remote list
            for _, child in pairs(remoteExplorer:FindFirstChild("RemotesScrolling"):GetChildren()) do
                if child:IsA("TextButton") then
                    child:Destroy()
                end
            end
            -- Recreate the population function here or call it
        end)
    end
end)

-- Update scrolling frame size
UIListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y)
end)

print("STEVEN'S HACKS LOADED!")
print("Float Mode + Speed Boost (Toggleable)!")
